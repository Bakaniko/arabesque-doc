<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Interface | Arabesque documentation</title>
  <meta name="description" content="This is the online documentation of the Arabesque web application." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Interface | Arabesque documentation" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the online documentation of the Arabesque web application." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Interface | Arabesque documentation" />
  
  <meta name="twitter:description" content="This is the online documentation of the Arabesque web application." />
  

<meta name="author" content="GFlowiz project team" />


<meta name="date" content="2021-10-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="exports.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Arabesque documentation</a></li>

<li class="divider"></li>
<li><a href="index.html#about-arabesque">About <em>Arabesque</em></a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Challenges</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#general-project-and-funding"><i class="fa fa-check"></i>General project and funding</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#the-geographic-flow-vizualisation-gflowiz-project"><i class="fa fa-check"></i>The geographic flow vizualisation (gflowiz) project</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#funding"><i class="fa fa-check"></i>Funding</a></li>
</ul></li>
<li><a href="index.html#about-arabesque-documentation">About <em>Arabesque</em> documentation</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="interface.html"><a href="interface.html"><i class="fa fa-check"></i><b>1</b> Interface</a><ul>
<li class="chapter" data-level="1.1" data-path="interface.html"><a href="interface.html#the-central-panel"><i class="fa fa-check"></i><b>1.1</b> The central panel</a><ul>
<li class="chapter" data-level="1.1.1" data-path="interface.html"><a href="interface.html#primary-actions-with-butons"><i class="fa fa-check"></i><b>1.1.1</b> Primary actions with butons</a></li>
<li class="chapter" data-level="1.1.2" data-path="interface.html"><a href="interface.html#primary-legend"><i class="fa fa-check"></i><b>1.1.2</b> Primary legend</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="interface.html"><a href="interface.html#the-geographic-panel"><i class="fa fa-check"></i><b>1.2</b> The geographic panel</a><ul>
<li class="chapter" data-level="1.2.1" data-path="interface.html"><a href="interface.html#the-add-projection"><i class="fa fa-check"></i><b>1.2.1</b> The Add Projection</a></li>
<li class="chapter" data-level="1.2.2" data-path="interface.html"><a href="interface.html#the-add-title"><i class="fa fa-check"></i><b>1.2.2</b> The Add Title</a></li>
<li class="chapter" data-level="1.2.3" data-path="interface.html"><a href="interface.html#the-add-layers"><i class="fa fa-check"></i><b>1.2.3</b> The Add layers</a></li>
<li class="chapter" data-level="1.2.4" data-path="interface.html"><a href="interface.html#add-node-features"><i class="fa fa-check"></i><b>1.2.4</b> Add Node Features</a></li>
<li class="chapter" data-level="1.2.5" data-path="interface.html"><a href="interface.html#add-link-features"><i class="fa fa-check"></i><b>1.2.5</b> Add Link Features</a></li>
<li class="chapter" data-level="1.2.6" data-path="interface.html"><a href="interface.html#add-base-layer"><i class="fa fa-check"></i><b>1.2.6</b> Add Base Layer</a></li>
<li class="chapter" data-level="1.2.7" data-path="interface.html"><a href="interface.html#add-tile-layers-osm"><i class="fa fa-check"></i><b>1.2.7</b> Add Tile Layers (OSM)</a></li>
<li class="chapter" data-level="1.2.8" data-path="interface.html"><a href="interface.html#import-geojson-layers"><i class="fa fa-check"></i><b>1.2.8</b> Import GeoJson Layers</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="interface.html"><a href="interface.html#the-statistical-panel"><i class="fa fa-check"></i><b>1.3</b> The statistical panel</a></li>
<li class="chapter" data-level="1.4" data-path="interface.html"><a href="interface.html#linksflow-dataset-importation"><i class="fa fa-check"></i><b>1.4</b> Links/flow dataset importation</a></li>
<li class="chapter" data-level="1.5" data-path="interface.html"><a href="interface.html#nodesvertex-dataset-importation"><i class="fa fa-check"></i><b>1.5</b> Nodes/vertex dataset importation</a></li>
<li class="chapter" data-level="1.6" data-path="interface.html"><a href="interface.html#preset-nodes-dataset"><i class="fa fa-check"></i><b>1.6</b> Preset nodes dataset</a></li>
<li class="chapter" data-level="1.7" data-path="interface.html"><a href="interface.html#checking-missing-nodeslinks-features"><i class="fa fa-check"></i><b>1.7</b> Checking missing nodes/links features</a></li>
<li class="chapter" data-level="1.8" data-path="interface.html"><a href="interface.html#data-indicators-pre-processing"><i class="fa fa-check"></i><b>1.8</b> Data indicators pre processing</a></li>
<li class="chapter" data-level="1.9" data-path="interface.html"><a href="interface.html#visualize-a-default-flow-map"><i class="fa fa-check"></i><b>1.9</b> Visualize a default flow map</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="exports.html"><a href="exports.html"><i class="fa fa-check"></i><b>2</b> Exports</a></li>
<li class="chapter" data-level="3" data-path="data-sets.html"><a href="data-sets.html"><i class="fa fa-check"></i><b>3</b> Data sets</a><ul>
<li class="chapter" data-level="3.1" data-path="data-sets.html"><a href="data-sets.html#ricardo-data-set-used-in-the-documentation"><i class="fa fa-check"></i><b>3.1</b> RIcardo Data set used in the documentation</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-sets.html"><a href="data-sets.html#ricardo-general-description"><i class="fa fa-check"></i><b>3.1.1</b> RIcardo general description</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-sets.html"><a href="data-sets.html#ricardo-dataset-description"><i class="fa fa-check"></i><b>3.1.2</b> RIcardo dataset description</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-sets.html"><a href="data-sets.html#datasets-used-for-demonstration-purposes"><i class="fa fa-check"></i><b>3.2</b> Datasets used for demonstration purposes</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-sets.html"><a href="data-sets.html#swiss-commuting"><i class="fa fa-check"></i><b>3.2.1</b> Swiss Commuting</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-sets.html"><a href="data-sets.html#london-bike-sharing"><i class="fa fa-check"></i><b>3.2.2</b> London Bike Sharing</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-sets.html"><a href="data-sets.html#french-commutingmobilités-professionelles-mobpro"><i class="fa fa-check"></i><b>3.2.3</b> French Commuting/Mobilités professionelles (MOBPRO)</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-sets.html"><a href="data-sets.html#french-school-mobilitiesmobilités-scolaires-mobsco"><i class="fa fa-check"></i><b>3.2.4</b> French School Mobilities/Mobilités scolaires (MOBSCO)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Arabesque documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interface" class="section level1">
<h1><span class="header-section-number">1</span> Interface</h1>
<p>The general structure of the interface of Arabesque is composed of three panel.
- The **central*panel** is for displaying the map - centered in France here.</p>
<p>The two side panels are for playing with information.
- The <strong>left panel</strong> is for dealing with geometries and geographical layers. Here are displayed CARTO Based map : Voyager and
- The <strong>right panel</strong> is for playing with the flow data set.</p>
<p><img src="images/Panels_arabesque.PNG" /></p>
<div id="the-central-panel" class="section level2">
<h2><span class="header-section-number">1.1</span> The central panel</h2>
<p>The central part of Arabesque corresponds to the map view. It results from the choice of the layers to be displayed (from the left panel) and the filtering of the values of the links and nodes (from the right panel).</p>
<p>This central panel also presents different buttons allowing the implementation of primary actions.</p>
<div id="primary-actions-with-butons" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Primary actions with butons</h3>
<p>The white page of Arabesque is decorated with blue action buttons.</p>
<p><img src="images/central_panel_clear.png" />
<strong>Details of the different buttons</strong></p>
<p><img src="images/Buton_in_out.png" /> Successively zoom in/out - the same way as with the mouse wheel.</p>
<p><img src="images/Buton_sauv.png" /> Save the project in .ZIP for later use.</p>
<p><img src="images/Buton_export.png" /> Export the map in .PNG including legends and and contributors’ sources for external backgrounds such as OSM or NaturalEarth data.</p>
<p><img src="images/Buton_center.png" /> Refocus and display the entire view without zooming in/out or panning.</p>
<p><img src="images/Buton_export.png" /> Export the filtered flow data - the ones visible on the map - as a list file in .JSON format.</p>
<p><img src="images/Buton_leg.png" /> Show/hide the legend.</p>
<p><img src="images/Buton_screen_black.png" /> Switch to full screen display - with black background.</p>
<p><img src="images/Buton_open_panel.png" /> Open/close the panels located on each side of the map.</p>
</div>
<div id="primary-legend" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Primary legend</h3>
<p>A legend is automatically generated for each map for nodes and links plot.</p>
<p><img src="images/center_legend.PNG" /></p>
<p>The symbolization elements (size, color and opacity) of the nodes and links are included. Here (for the default map), it is the volume of flows and the degree of places that are represented.</p>
</div>
</div>
<div id="the-geographic-panel" class="section level2">
<h2><span class="header-section-number">1.2</span> The geographic panel</h2>
<p>The left panel is to design the map :
- dealing with the background as the geographical/geometrical layers
- customize the <em>design</em>/style of the nodes and links features
map.</p>
<p>The management of geographic information is composed of two sub-sections:</p>
<p><img src="images/geom_panel.PNG" /></p>
<p><img src="images/Buton_home.png" /> Return to the <a href="arabesque.ifsttar.fr">home page</a> to start a new view.</p>
<p>Actions on the background of the map are for changing projections of the current map and/or to add other layers.</p>
<p>Actions on the design/style is for (additional) geographic layers that have been adding through the previous action.</p>
<div id="the-add-projection" class="section level3">
<h3><span class="header-section-number">1.2.1</span> The Add Projection</h3>
<p>Geographic layers can be reprojected, by choosing one of the proposed formulas:</p>
<p><img src="images/geom_Projection.png" /></p>
<p>Reprojection can also be used by entering an EPSG code.</p>
<p><img src="images/Add_projection_epsg.PNG" />
EXAMPLE: several projections of RICardo data</p>
<p><img src="images/RIcardo_reprojection.png" /></p>
</div>
<div id="the-add-title" class="section level3">
<h3><span class="header-section-number">1.2.2</span> The Add Title</h3>
<p>The Add Title section allows you to add a simple title to the view, useful when importing</p>
<p><img src="images/Add_geom_title.PNG" /></p>
</div>
<div id="the-add-layers" class="section level3">
<h3><span class="header-section-number">1.2.3</span> The Add layers</h3>
<p><img src="images/geom_add_layers.PNG" /></p>
<p>Five types of geographic layers can be loaded/add to construct the map (Add Node Feature and Add Link Features) and/or to contextualize the map (Add Base Layer, Add Tile Layers (OSM), Import GeoJson Layers).</p>
<p>Add Node Feature and Add Link Features leads to act on the design/style the flow features: to symbolize and customize the links and the nodes.</p>
</div>
<div id="add-node-features" class="section level3">
<h3><span class="header-section-number">1.2.4</span> Add Node Features</h3>
<p><img src="images/Add_Nodes_Features.png" /></p>
<p>Add Node Feature leads to act on the design/style of the flow places features.</p>
<p>It is possible to set up all the graphic dimensions of the nodes by “Choose semio” for cartographic semiology as Bertin (1967). Hereby the general window.</p>
<p><img src="images/geom_add_nodes_1.PNG" /></p>
<div id="color" class="section level4">
<h4><span class="header-section-number">1.2.4.1</span> <strong>Color</strong></h4>
<p>The color of the nodes can be fixed (e.g. in black) or shaded in a range of tones.</p>
<p><img src="images/choose_fixed_color.png" /></p>
<p><strong><em>Example</em></strong> : Application on the nodes. Symbolization of the barycenter of the zones with a circle shape (unique choice for instance) of fixed size and unique black color.</p>
<p><img src="images/nodes_color.png" /></p>
<p>The color of the nodes can be shaded in a range of tones.</p>
<p><img src="images/geom_add_nodes_1_color.PNG" />
The reference for the color schemes is Cynthia Brewer palette for Diverging, Multi Hue and Single Hue. See: <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">Color Brewer advices for maps</a>. An Extra Palette is also proposed in Arabesque.</p>
<p>The color of the node can be set according to one of the variables (initial or calculated by Arabesque) present in the dataset.</p>
<p><img src="images/geom_add_nodes_1_color_variable.png" /></p>
<p>By definition, the type of color range (Diverging/Multi Hue/Single Hue/Extra Palette) will have to be realized according to the type of the variable to represent (quantitative/qualitative, discrete/continuous, stock/ratio/scale, …).</p>
<p><img src="images/geom_add_nodes_1_color_variable2.png" />
The progression (up/down) of the <strong>color range</strong> depends on that of the <strong>value range</strong>: it can be direct or inverse. The checked box means an inverse progression: a light color is applied to a strong value.</p>
<p><img src="images/geom_add_nodes_1_color_variable3.png" /></p>
</div>
<div id="size" class="section level4">
<h4><span class="header-section-number">1.2.4.2</span> <strong>Size</strong></h4>
<p>The size of the nodes can be fixed and the weight defined.</p>
<p><img src="images/geom_add_nodes_2_size.png" /></p>
<p>The size can be <strong>weighted by a variable</strong> according to one of the initial or additional <strong>variables</strong> available in the dataset (hereby the balance).</p>
<p><img src="images/geom_add_nodes_2_size_variable.png" />
Three functions to set the size of the node according to the corresponding value are proposed: the square, the square root and the logarithm.</p>
<p><img src="images/geom_add_nodes_2_size_fct.png" /></p>
<p>The <strong>ratio</strong> representing the max width in pixel of the graphic features can be defined - according to the map bounding box, to obtain an image with balanced features (neither too small nor too big).</p>
<p><img src="images/geom_add_nodes_2_size_ratio.png" /></p>
</div>
<div id="text" class="section level4">
<h4><span class="header-section-number">1.2.4.3</span> <strong>Text</strong></h4>
<p>Textuals elements can also be added near the nodes.</p>
<p><img src="images/geom_add_nodes_3_texte.png" />
The text can be defined according to one of the variable available in the dataset.</p>
<p><img src="images/geom_add_nodes_3_texte2.png" />.</p>
<p>The opacity of the text shade (currently set to black) can be set to a given value (here 0.85).</p>
<p><img src="images/geom_add_nodes_3_texte_fixe.png" /></p>
<p>The opacity of the text shade (currently set to black) can be varied according to an indicator present in the dataset.</p>
<p><img src="images/geom_add_nodes_3_texte_variable.png" /></p>
<p>EXAMPLE : Application of the shade opacity on the nodes. Symbolization of the nodes with a circle shape of variable size according to a linear function, represented with a shaded black shade with opacity variation.</p>
<p><img src="images/nodes_opacity.png" /></p>
<p><img src="images/geom_add_nodes_3_texte_funct.png" /></p>
<p>The opacity of the text shade can vary according to an indicator present in the dataset and according to a corresponding function which can be Linear, Square, SquareRoot or Logarithm and defined in an min/max interval: here between 0.25 and 0.85.</p>
</div>
</div>
<div id="add-link-features" class="section level3">
<h3><span class="header-section-number">1.2.5</span> Add Link Features</h3>
<p><img src="images/Add_Links_Features.png" /></p>
<p>Add Link Feature leads to act on the design/style the flow interactions features.</p>
<p>It is possible to “Choose semio” for <em>cartographic semiology</em> as Bertin (1967). Hereby the general window.</p>
<p>The symbology of the links consists of setting their design parameters and applying visual variables to qualitatively enrich the map.</p>
<p><img src="images/geom_add_links_1.PNG" /></p>
<p>The colors of the links and nodes need to be defined, for reasons of visual harmony.</p>
<p>EXAMPLE: straight bilateral oriented links, unique black color.</p>
<p><img src="images/geom_all_links.png" /></p>
<div id="geometry" class="section level4">
<h4><span class="header-section-number">1.2.5.1</span> Geometry</h4>
<p>The geometry of the link can be oriented or not.</p>
<p><img src="images/geom_add_links_geometry1.PNG" /></p>
<p>Oriented geometry takes into account the direction of the <strong>flow</strong> to define the <strong>graphic form</strong> of the sign.</p>
<p><img src="images/geom_add_links_oriented.png" /></p>
<p>Five form are available : straight (as euclidian distance symbolisation), straight no hook, Triangle, (line) Curve and Triangle curve.</p>
<p><img src="images/Links_geom.png" /></p>
<ul>
<li><p><strong>Straight</strong>: The link is straight and oriented, with a half arrowhead</p></li>
<li><p><strong>Straight no hook</strong>: The link is straight and oriented, it has a point without hook</p></li>
<li><p><strong>Triangle</strong>: The link is straight and takes the shape of a triangle</p></li>
<li><p><strong>Curve</strong> : The link is curved and oriented, its curvature is configurable.</p></li>
<li><p><strong>Triangle curve</strong>: The link is curved and takes the shape of a drop of water, its curvature is configurable.</p></li>
<li><p><strong>Non oriented</strong>: The link is straight, validated or not, it has no orientation.</p></li>
</ul>
<p><strong>The design of arrows</strong></p>
<p>The arrow geometry - which corresponds to the visual shape variable - can be rectilinear or curvilinear.</p>
<p>The curvature of the line is generated according to the Chaikin algorithm which allows to parameterize its height and its base, with respect to the body of the link.</p>
<p><img src="images/geom_add_links_curve.png" /></p>
<ul>
<li><p><strong>Arrow / Height curve</strong>: The value of the height of the head is the percentage of the map distance of the link (distance between the origin and the destination) used to define the maximum (map) width of the link - the width being itself a function of the value of the flow.</p></li>
<li><p><strong>Arrow / Height</strong>: The value of ([0,1]) is that of the center of the curve; the point is identified by the indication of a distance from the origin node of the link.</p></li>
</ul>
<p>EXAMPLE*: various geometry of a same Covid-19 flowmaps.</p>
<p><img src="images/Ex_geom_covid.png" /></p>
</div>
<div id="semiology" class="section level4">
<h4><span class="header-section-number">1.2.5.2</span> Semiology</h4>
<p><strong>Color</strong></p>
<p>The Color of the links can be fixed ie it is identical for all links.</p>
<p>The reference for the color schemes is Cynthia Brewer palette for Diverging, Multi Hue and Single Hue. See: <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">Color Brewer advices for maps</a>. An Extra Palette is also proposed in Arabesque.</p>
<p><img src="images/geom_add_links_color_fix.png" /></p>
<p>The color of the links can also be set according to one of the variables present in the dataset. It is based on a predefined tone gradient. The choice of the progression (divergent or not) will depend on the type of character (specified in the type field).</p>
<p><img src="images/Geom_add_Links_color1.png" /></p>
<p>The choice to shade the links is associated here with a continuous (pseudo) character whose type (quantitative) must be specified.</p>
<p><strong>Size</strong>:</p>
<p>Ideally, it is necessary to simultaneously set the size of the links. Ideally, it is necessary to simultaneously set the size using a discrete character. The links’s color using a continuous character (ratio or rate) - otherwise, the links will keep the same size and the result of the application of a nuance will be hardly visible.</p>
<p><img src="images/geom_add_links_geom_size.png" /></p>
<p><strong>Scale</strong>:</p>
<p>Four functions to set the size of the links according to the corresponding quantitative and discrete value are proposed: the linear, the square, the square root and the logarithm.</p>
<p><img src="images/geom_add_links_scale.png" /></p>
<p><strong>Ratio</strong>: it represents the max width in pixel of the graphic features that can be defined - according to the map bounding box, to obtain an image with balanced features (neither too small nor too big) regarding the scale function.</p>
<p><strong>Opacity</strong></p>
<p>The opacity of the link’s color can vary according to an indicator and also to a corresponding function which can be Linear, Square, SquareRoot or Logarithm and defined in an min/max interval: here between 0.25 and 0.85.</p>
<p><img src="images/geom_add_links_opacity_varied.PNG" /></p>
<p>EXAMPLES:</p>
<ol style="list-style-type: decimal">
<li>Black and white nodes under links as triangle curve with varied opacity.</li>
</ol>
<p><img src="images/Nodes_under_links.png" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Black and white nodes on links as triangle curve with varied opacity.</li>
</ol>
<p><img src="images/Nodes_on_links.png" /></p>
<p>See layout management section to manage the overlay of the layers.</p>
</div>
</div>
<div id="add-base-layer" class="section level3">
<h3><span class="header-section-number">1.2.6</span> Add Base Layer</h3>
<p><img src="images/Add_base_Layer.png" /></p>
<p>Add based layers consists in calling a remote geographic information layer, to contextualize the flowmap.</p>
<p><img src="images/Add_base_Layer_1.png" /></p>
<p>Several layers are available :</p>
<p><img src="images/Add_base_Layer_choose.png" /></p>
<p><img src="images/Add_base_Layer_Graticule.png" /></p>
<p><img src="images/Add_base_Layer_Country.png" /></p>
<p>EXAMPLE: various geometry of a same Covid-19 flowmaps.</p>
</div>
<div id="add-tile-layers-osm" class="section level3">
<h3><span class="header-section-number">1.2.7</span> Add Tile Layers (OSM)</h3>
<p><img src="images/Add_Tiles_OSM.png" /></p>
<p>The Base type of tiles layers come from Open Street Map (OSM).
See for details: <a href="https://wiki.openstreetmap.org/wiki/Tile_servers">OSM tile server</a></p>
<p><img src="images/Add_Tile_Layer_base.png" />
Several OSM tiles are available.</p>
<p><img src="images/Add_Tile_Layer_baseOSM.png" /></p>
<p>The second type of tile layer is the Overlay one, specially adapted for maps related to transportation, by sea (OPenSeaMap), by bike (Waymarkedtrails Cycling) or by hiking (Waymarkedtrails Hiking).</p>
<p><img src="images/Add_Tile_Layer_overlay.png" /></p>
<p><img src="images/Add_Tile_overlay.png" /></p>
<p>The third type of tile layer is the famous Stamen one.</p>
<p><img src="images/Add_Tile_Layer_Stamen.png" /></p>
<p>For <strong>Stamen styles</strong>, see <a href="https://stamen.com/open-source/">Stamen Open source tools</a></p>
<p>Text layer can be loaded, and present a style compatible to Stamen, CARTO and voyager nolabels.</p>
<p><img src="images/Add_Tile_Layer_Text.png" />
The four type of tile layers is CARTO basemap.</p>
<p><img src="images/Add_Tile_Layer_CARTObasemap.png" /></p>
<p>The CARTO base map styles are available <a href="https://carto.com/help/building-maps/basemap-list/">here</a></p>
<p>EXAMPLE: Different layers to geographically contextualize a flow dataset.</p>
<p><img src="images/Ex_geographie_covid.png" />
You can also add an external/personal tile.</p>
<p><img src="images/Add_tile_perso.PNG" /></p>
<p>You can import additional tiles by specifying a URL, the sources/contributors and setting the rendering.</p>
<p><img src="images/Add_tile_perso2.PNG" /></p>
</div>
<div id="import-geojson-layers" class="section level3">
<h3><span class="header-section-number">1.2.8</span> Import GeoJson Layers</h3>
<p><img src="images/Add_Import_Geojson.png" /></p>
</div>
</div>
<div id="the-statistical-panel" class="section level2">
<h2><span class="header-section-number">1.3</span> The statistical panel</h2>

<p>The creation of a flow map with Arabesque can be broken down into the following main steps:</p>
<p><strong>1. Importing flow datasets (links and/or nodes)</strong>
2. Processing flow datasets (creation of indicators, statistics)
3. Statistical data computing (filtering, …)
4. Geographical data computing (choosing the map background…)
5. Graphic symbolization for thematic flow mapping purposes
6. Flowmap decoration
7. Export</p>
</div>
<div id="linksflow-dataset-importation" class="section level2">
<h2><span class="header-section-number">1.4</span> Links/flow dataset importation</h2>
<p><em>Arabesque</em> requires the loading of at least one origin-destination links/edges/flow data set. It is a matrix in .CSV (separator: comma) and long format.</p>
<p>You must also declare the 3 minimum fields required for flow mapping: those corresponding to the origin locations, to the destination locations and the flow values.</p>
<p>If the OD matrix is temporal or available for different categories, you must also choose an aggregation method.</p>
<p>On the homepage of(<a href="http://arabesque.ifsttar.fr/">Arabesque</a>), load at least one set of flow data.</p>
<p><img src="images/BjvHVHn.png" /></p>
<ul>
<li>Click on the browse button</li>
</ul>
<p><strong>Application</strong></p>
<p>Statistical dataset</p>
<p>Loading data <em>SAGEO_RICardo_edges_small.csv</em>.</p>
<p><img src="images/GjzU9IE.png" /></p>
<p>The data must be in long format, with at least 3 columns : origin, destination, flow</p>
<p>The data must be in long format, with at least 3 columns to identify the origin, destination and volume of flows.</p>
<p>If the flow data are multiscalar (e.g. flows that concern several social groups, several goods transported or that occur on several dates), it is necessary to aggregate them when loading them into Arabesque.</p>
<p>Several aggregation functions are available (sum, average, median, maximum, minimum) to simplify the flows.</p>
<p><img src="images/flow_aggreg_import.png" /></p>
<p>Note: This aggregation does not interfere with the geo-visualization possibilities that will remain available for all existing types.</p>
</div>
<div id="nodesvertex-dataset-importation" class="section level2">
<h2><span class="header-section-number">1.5</span> Nodes/vertex dataset importation</h2>
<p>If you have locational data associated with your ODs, you can load the corresponding node files with “Import Location”,
otherwise you can use predefined locations with “Preset Location”.</p>
<p>If you select “Import Location”, you must load a .GEOJSON or .CSV file, then choose the ID of the nodes and their lat/long geographic coordinates.</p>
<p><strong>Application</strong></p>
<p>Loading <em>SAGEO_RICardo_nodes.csv</em> data</p>
<p><img src="images/import_nodes.png" /></p>
<p>The data must be in long format, with at least 3 columns to identify the place and the latitude (Y) and longitude (X) coordinates.</p>
<p>If you do not have a file for the geometry, you can use the codes identifying the reference data (e.g. INSEE codes of the French communes, ISO codes of the countries), to automatically geolocate your nodes. See Preset.</p>
</div>
<div id="preset-nodes-dataset" class="section level2">
<h2><span class="header-section-number">1.6</span> Preset nodes dataset</h2>
<p>Example of pre-selection of French municipalities.</p>
<p><img src="images/preset_nodes_import.png" /></p>
<p>After loading the link and node files, Arabesque automatically performs a join of the common attributes between the two files.</p>
</div>
<div id="checking-missing-nodeslinks-features" class="section level2">
<h2><span class="header-section-number">1.7</span> Checking missing nodes/links features</h2>
<p>Links that do not have an origin and/or destination ID are automatically deleted. Nodes that don’t have an ID code that allows them to be geographically located are also not kept.</p>
<p>The list of deleted nodes and links is displayed in a new window.</p>
<p><img src="images/import_suppr_entities.png" /></p>
<p>This list is for quick reference only. You must copy and paste it (into a text file, for example) if you want to keep the list of deleted entities : here 77 nodes have been deleted because they are not related to other nodes. The corresponding nodes ID are list.</p>
<p>After loading the link and node files, <em>Arabesque</em> automatically performs a join of the common attributes between the two files and computes indicator on botk links and nodes data.</p>

<p>The creation of a flow map with Arabesque can be broken down into the following main steps:</p>
<ol style="list-style-type: decimal">
<li>Importing flow datasets (links and/or nodes)
<strong>2. Processing flow datasets (creation of indicators, statistics)</strong></li>
<li>Statistical data computing (filtering, …)</li>
<li>Geographical data computing (choosing the map background…)</li>
<li>Graphic symbolization for thematic flow mapping purposes</li>
<li>Flowmap decoration</li>
<li>Export</li>
</ol>
<p>The links and nodes datasets are automatically modified when importing and <em>Arabesque</em> computes different indicators.</p>
</div>
<div id="data-indicators-pre-processing" class="section level2">
<h2><span class="header-section-number">1.8</span> Data indicators pre processing</h2>
<p><em>Indicators on links</em>: Euclidean distance between the origin and destination entities</p>
<p><em>Indicators on nodes</em> : see below the additional indicators () automatically calculated on the nodes of the RIcardo data</p>
<p>See below the indicators that have been automatically computed (ie the additional variable) on the nodes of the RIcardo data.</p>
<p><img src="images/import_indic.png" /></p>
<p>These indicators can be downloaded in . csv format (see Export and Save sections).</p>
<p>Loading links and nodes data into <em>Arabesque</em> leads to the creation of a default map, which is placed in the center of the interface.</p>
</div>
<div id="visualize-a-default-flow-map" class="section level2">
<h2><span class="header-section-number">1.9</span> Visualize a default flow map</h2>
<p>Loading data in Arabesque leads to the creation of a default map to avoid visualizing a “spaghetti effect” when entering the application ; all the defined parameters can then be modified during the exploration.</p>
<p>By default, the links are represented in shades of blue and the nodes in red. The map is presented in the WGS84 projection, according to the lat/lon coordinates* declared during the import.</p>
<p>Except in the case of loading a projected geometry as input, the map is presented in WGS84.</p>
<p>Hereby is the Ricardo’s dataset default map with global statistic of the percent of links versus the percent of volume of flows and nodes.</p>
<p><img src="images/defaut_flowmap.png" />
Only the 10% most important links (in value) are represented and symbolized (see the automatic legend) according to their intensity (the flow variable entered at import).
The corresponding nodes are symbolized according to their degree (variable calculated automatically during the import).</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exports.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["arabesque-doc.pdf", "arabesque-doc.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
